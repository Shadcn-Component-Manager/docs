---
title: 'Registry Structure'
description: 'Understand the directory and file structure of the SCM registry.'
---

# Registry Structure

The SCM registry is organized to make it easy to find, contribute, and manage components through automated workflows.

## Top-Level Layout

```
registry/
├── registry.json                    # Auto-generated index
├── components/                      # Component storage
│   ├── {github-username}/          # User namespace
│   │   ├── {component-name}/       # Component directory
│   │   │   ├── 1.0.0/             # Version directory
│   │   │   │   ├── registry.json  # Component metadata
│   │   │   │   └── registry/      # Component files
│   │   │   └── 2.0.0/             # Newer version
└── .github/workflows/              # GitHub Actions
    └── component-pipeline.yml      # Automated validation & publishing
```

## Components Directory

<CardGroup cols={2}>
  <Card title="User Namespace">
    Each contributor has a folder (their GitHub username)
  </Card>
  <Card title="Component Name">
    Each component has its own folder
  </Card>
  <Card title="Versioned">
    Each version is a subfolder (e.g., `1.0.0/`)
  </Card>
  <Card title="Files">
    Each version contains `registry.json` and component files
  </Card>
</CardGroup>

## registry.json (Top Level)

<CardGroup cols={2}>
  <Card title="Auto-Generated">
    Auto-generated index of all components and their metadata
  </Card>
  <Card title="Search Index">
    Used by CLI and web for search, install, and update
  </Card>
  <Card title="Metadata">
    Contains component metadata, dependencies, and version info
  </Card>
  <Card title="Discovery">
    Powers component discovery and browsing features
  </Card>
</CardGroup>

## Component Organization

### User Namespace Structure

```
components/
├── BankkRoll/
│   ├── supachat/
│   │   ├── 1.0.0/
│   │   │   ├── registry.json
│   │   │   └── registry/
│   │   │       ├── components/
│   │   │       │   ├── chat-widget.tsx
│   │   │       │   ├── admin-panel.tsx
│   │   │       │   └── message-bubble.tsx
│   │   │       ├── hooks/
│   │   │       │   ├── use-chat.ts
│   │   │       │   └── use-admin.ts
│   │   │       ├── lib/
│   │   │       │   ├── types.ts
│   │   │       │   └── config.ts
│   │   │       └── supabase/
│   │   │           ├── client.ts
│   │   │           └── server.ts
│   │   └── 2.0.0/                 # Future version
│   └── another-component/
└── another-user/
    └── component-c/
        └── 1.0.0/
            ├── registry.json
            └── registry/
                └── components/
                    └── ComponentC.tsx
```

### Version Management

<CardGroup cols={2}>
  <Card title="Semantic Versioning">
    Each version is in its own directory (e.g., `1.0.0/`, `1.1.0/`, `2.0.0/`)
  </Card>
  <Card title="Version History">
    All versions are preserved for backward compatibility
  </Card>
  <Card title="Latest Version">
    The highest version number is considered the latest
  </Card>
  <Card title="Version Updates">
    New versions are added as new directories
  </Card>
</CardGroup>

## File Structure Within Components

### Required Files

<CardGroup cols={2}>
  <Card title="registry.json">
    Component metadata and configuration
  </Card>
  <Card title="Component Files">
    React components, hooks, and utilities in `registry/` directory
  </Card>
</CardGroup>

### File Organization

<CardGroup cols={2}>
  <Card title="registry/components/">
    Main React component files
  </Card>
  <Card title="registry/hooks/">
    Custom React hooks
  </Card>
  <Card title="registry/lib/">
    Utility functions, types, and configuration
  </Card>
  <Card title="registry/">
    Other organized file types
  </Card>
</CardGroup>

## GitHub Actions Workflow

### Component Pipeline

The registry uses a single comprehensive workflow (`component-pipeline.yml`) that handles:

<CardGroup cols={2}>
  <Card title="Validation">
    - Structure validation
    - Metadata validation
    - Naming convention checks
  </Card>
  <Card title="Auto-Merge">
    - Automatically merges valid PRs
    - Provides feedback on failures
  </Card>
  <Card title="Index Generation">
    - Updates registry.json after merge
    - Maintains search index
  </Card>
  <Card title="Cleanup">
    - Deletes merged branches
    - Maintains repository hygiene
  </Card>
</CardGroup>

## Registry Index Structure

The top-level `registry.json` contains:

```json
[
  {
    "name": "username/component",
    "description": "Component description",
    "author": "Author Name",
    "categories": ["ui", "button"],
    "version": "1.0.0",
    "lastUpdated": "2024-01-15T10:30:00.000Z"
  }
]
```

## Best Practices

<CardGroup cols={2}>
  <Card title="Organization">
    - Keep component names descriptive and unique
    - Use consistent file naming conventions
    - Group related files in appropriate directories
    - Maintain clear version history
  </Card>
  <Card title="Documentation">
    - Include comprehensive metadata
    - Document all props and variants
    - Provide usage examples
    - Keep documentation up to date
  </Card>
  <Card title="Versioning">
    - Use semantic versioning consistently
    - Document breaking changes
    - Test all versions thoroughly
    - Maintain backward compatibility
  </Card>
  <Card title="Quality">
    - Follow component patterns
    - Ensure accessibility standards
    - Test in multiple environments
    - Keep dependencies minimal
  </Card>
</CardGroup>

## Related Documentation

<CardGroup cols={2}>
  <Card title="Publishing Workflow" href="/registry/publishing">
    Publishing workflow
  </Card>
  <Card title="Component Structure" href="/registry/component-structure">
    Component structure
  </Card>
  <Card title="Metadata Format" href="/registry/metadata">
    Registry.json format
  </Card>
</CardGroup> 